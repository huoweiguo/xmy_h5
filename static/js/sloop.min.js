!function(e){"use strict";var r=document,d="getElementsByClassName",c=function(e){return r.querySelectorAll(e)},n={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:"scale"},y={extend:function(e){var t=JSON.parse(JSON.stringify(n));for(var i in e)t[i]=e[i];return t},timer:{},end:{},touch:function(e,t){e.addEventListener("click",function(e){t.call(this,e)},!1)}},u=0,p=["layui-m-layer"],t=function(e){this.config=y.extend(e),this.view()};t.prototype.view=function(){var e=this,i=e.config,t=r.createElement("div");e.id=t.id=p[0]+u,t.setAttribute("class",p[0]+" "+p[0]+(i.type||0)),t.setAttribute("index",u);var n,l=(n="object"==typeof i.title,i.title?'<h3 style="'+(n?i.title[1]:"")+'">'+(n?i.title[0]:i.title)+"</h3>":""),s=function(){"string"==typeof i.btn&&(i.btn=[i.btn]);var e,t=(i.btn||[]).length;return 0!==t&&i.btn?(e='<span yes type="1">'+i.btn[0]+"</span>",2===t&&(e='<span no type="0">'+i.btn[1]+"</span>"+e),'<div class="layui-m-layerbtn">'+e+"</div>"):""}();if(i.fixed||(i.top=i.hasOwnProperty("top")?i.top:100,i.style=i.style||"",i.style+=" top:"+(r.body.scrollTop+i.top)+"px"),2===i.type&&(i.content='<i></i><i class="layui-m-layerload"></i><i></i><p>'+(i.content||"")+"</p>"),i.skin&&(i.anim="up"),"msg"===i.skin&&(i.shade=!1),t.innerHTML=(i.shade?"<div "+("string"==typeof i.shade?'style="'+i.shade+'"':"")+' class="layui-m-layershade"></div>':"")+'<div class="layui-m-layermain" '+(i.fixed?"":'style="position:static;"')+'><div class="layui-m-layersection"><div class="layui-m-layerchild '+(i.skin?"layui-m-layer-"+i.skin+" ":"")+(i.className?i.className:"")+" "+(i.anim?"layui-m-anim-"+i.anim:"")+'" '+(i.style?'style="'+i.style+'"':"")+">"+l+'<div class="layui-m-layercont">'+i.content+"</div>"+s+"</div></div></div>",!i.type||2===i.type){var a=r[d](p[0]+i.type);1<=a.length&&layer.close(a[0].getAttribute("index"))}document.body.appendChild(t);var o=e.elem=c("#"+e.id)[0];i.success&&i.success(o),e.index=u++,e.action(i,o)},t.prototype.action=function(e,t){var i=this;e.time&&(y.timer[i.index]=setTimeout(function(){layer.close(i.index)},1e3*e.time));var n=function(){0==this.getAttribute("type")?(e.no&&e.no(),layer.close(i.index)):e.yes?e.yes(i.index):layer.close(i.index)};if(e.btn)for(var l=t[d]("layui-m-layerbtn")[0].children,s=l.length,a=0;a<s;a++)y.touch(l[a],n);if(e.shade&&e.shadeClose){var o=t[d]("layui-m-layershade")[0];y.touch(o,function(){layer.close(i.index,e.end)})}e.end&&(y.end[i.index]=e.end)},e.layer={v:"2.0",index:u,open:function(e){return new t(e||{}).index},close:function(e){var t=c("#"+p[0]+e)[0];t&&(t.innerHTML="",r.body.removeChild(t),clearTimeout(y.timer[e]),delete y.timer[e],"function"==typeof y.end[e]&&y.end[e](),delete y.end[e])},closeAll:function(){for(var e=r[d](p[0]),t=0,i=e.length;t<i;t++)layer.close(0|e[0].getAttribute("index"))}},"function"==typeof define&&define(function(){return layer})}(window);